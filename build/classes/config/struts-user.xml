<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
 
	<!-- 与spring集成的写法，action等交予spring管理 -->
	<!-- 指定国际化资源文件的baseName为messageResource -->
 <constant name="struts.custom.i18n.resources" value="messageResource"/>
 <constant name="struts.enable.DynamicMethodInvocation" value="true"></constant>
<!-- 设置该应用使用的解码集 -->
<constant name="struts.i18n.encoding" value="utf-8"/>

	<package name="registAction" namespace="/" extends="struts-default">
<action name="regist" class="com.fwg.action.RegistAction" >
<result name="success" type="redirect">/Welcome.jsp</result>
			</action>
	</package>
	<package name="picuploadAction" namespace="/" extends="struts-default">
<action name="picupload" class="com.fwg.action.PicUploadAction" >
<!-- 限制图片的格式和图片的大小 -->
<interceptor-ref name="fileUpload">
<param name="allowedTypes">
image/bmp,image/png,image/gif,image/jpeg,image/jpg
</param>
<param name="maximumSize">809600</param>
</interceptor-ref>

<!-- 默认的拦截器，必须要写 -->
<interceptor-ref name="defaultStack" />

<result name="success" type="redirect">/PictureUpload.jsp</result>
<result name="input">/PictureUpload.jsp</result>

		</action>
	</package>
	
	<package name="musicuploadAction" namespace="/" extends="abstract_struts">
<action name="musupload" class="com.fwg.action.MusicUploadAction" >
<interceptor-ref name="myInterceptor" />
<!-- 限制音乐的格式和音乐的大小 -->
<interceptor-ref name="fileUpload">
<param name="allowedTypes"> 
audio/mpeg,audio/wav,audio/mp3
</param>
<param name="maximumSize">32384000</param>
</interceptor-ref>
<!-- 默认的拦截器，必须要写 -->
<interceptor-ref name="defaultStack" />
<result name="success" type="redirect">/index.jsp</result>
<result name="input">/ShareMusic.jsp</result>
</action>
</package>


</struts>